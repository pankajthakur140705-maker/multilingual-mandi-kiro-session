<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Multilingual Mandi тАУ AI for Bharat</title>

<style>
body{
  margin:0;
  font-family:system-ui,Segoe UI,Arial;
  background:linear-gradient(135deg,#ff9933,#ffffff,#138808);
}
.container{
  padding:60px 20px;
  text-align:center;
}
.card{
  max-width:900px;
  margin:auto;
  background:#fff;
  padding:30px;
  border-radius:16px;
  box-shadow:0 12px 30px rgba(0,0,0,.15);
  text-align:left;
}
h1{font-size:3rem}
label{font-weight:600;margin-top:12px;display:block}
input,select{
  width:100%;
  padding:10px;
  margin-top:6px;
  border-radius:6px;
  border:1px solid #ccc;
}
button{
  margin-top:20px;
  padding:14px 30px;
  background:#138808;
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-size:1rem;
}
.hidden{display:none}
.error{
  color:#c62828;
  font-size:.9rem;
  margin-top:6px;
}
.section{
  background:#f4f6f9;
  padding:16px;
  border-radius:12px;
  margin-top:18px;
}
.voiceBtn{
  background:#ff9933;
  color:#222;
}
</style>
</head>

<body>

<!-- INTRO -->
<div class="container" id="intro">
  <h1 id="title">Multilingual Mandi</h1>
  <p id="tagline">ML-powered price discovery & negotiation for local trade</p>
  <p><strong>AI for Bharat ┬╖ 26 Jan Prompt Challenge</strong></p>
  <button onclick="startDemo()">Start Live Demo</button>
</div>

<!-- APP -->
<div class="container hidden" id="app">
  <div class="card">

    <h2 id="dashTitle">Vendor Dashboard</h2>

    <label>Language</label>
    <select id="lang" onchange="setLang()">
      <option value="en">English</option>
      <option value="hi">рд╣рд┐рдВрджреА</option>
      <option value="pa">рикрй░риЬри╛римрйА</option>
      <option value="ta">родрооро┐ро┤рпН</option>
      <option value="bn">ржмрж╛ржВрж▓рж╛</option>
    </select>

    <label id="productLabel">Product</label>
    <input id="product" placeholder="Tomato">
    <div id="productErr" class="error"></div>

    <label id="qtyLabel">Quantity (kg)</label>
    <input id="qty" placeholder="50">
    <div id="qtyErr" class="error"></div>

    <label id="locLabel">Market Location</label>
    <input id="loc" placeholder="Delhi Mandi">
    <div id="locErr" class="error"></div>

    <button onclick="runML()">Run AI Model</button>

    <!-- OUTPUT -->
    <div id="result" class="hidden">
      <div class="section">
        <h3 id="priceTitle">ML Price Prediction</h3>
        <p id="priceValue"></p>
        <p id="priceExplain"></p>
      </div>

      <div class="section">
        <h3 id="negoTitle">Negotiation Strategy</h3>
        <p id="negoText"></p>
        <button class="voiceBtn" onclick="speak()">ЁЯФК Speak Negotiation</button>
      </div>

      <div class="section">
        <h3 id="trustTitle">AI Trust Layer</h3>
        <p id="trustText"></p>
      </div>
    </div>

  </div>
</div>

<script>
/* ---------------- STATE ---------------- */
let state={lang:"en"};
let speakText="";

/* ---------------- TRANSLATIONS ---------------- */
const t={
en:{
product:"Product",qty:"Quantity (kg)",loc:"Market Location",
priceTitle:"ML Price Prediction",
negoTitle:"Negotiation Strategy",
trustTitle:"AI Trust Layer",
trust:"Prediction generated using validated inputs and market-aware ML logic."
},
hi:{
product:"рдЙрддреНрдкрд╛рдж",qty:"рдорд╛рддреНрд░рд╛ (рдХрд┐рд▓реЛ)",loc:"рдордВрдбреА рд╕реНрдерд╛рди",
priceTitle:"рдПрдордПрд▓ рдореВрд▓реНрдп рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди",
negoTitle:"рдореЛрд▓рднрд╛рд╡ рд░рдгрдиреАрддрд┐",
trustTitle:"рдПрдЖрдИ рднрд░реЛрд╕рд╛ рдкрд░рдд",
trust:"рд╕рддреНрдпрд╛рдкрд┐рдд рдЗрдирдкреБрдЯ рдФрд░ рдмрд╛рдЬрд╛рд░-рдЖрдзрд╛рд░рд┐рдд рдПрдордПрд▓ рддрд░реНрдХред"
},
pa:{
product:"риЙридрикри╛риж",qty:"риори╛ридри░ри╛ (риХри┐ри▓рйЛ)",loc:"риорй░рибрйА ри╕риери╛рии",
priceTitle:"риРриориРри▓ риХрйАриорид риЕриирйБриори╛рии",
negoTitle:"риорйЛри▓ринри╛ри╡ ри░ригриирйАридрйА",
trustTitle:"риПриЖриИ ринри░рйЛри╕ри╛ рикри░рид",
trust:"ридри╕рижрйАриХри╕ри╝рйБрижри╛ рибри╛риЯри╛ риири╛ри▓ римригрйА ри╕ри┐рилри╝ри╛ри░ри╕ри╝ред"
},
ta:{
product:"рокрпКро░рпБро│рпН",qty:"роЕро│ро╡рпБ (роХро┐ро▓рпЛ)",loc:"роЪроирпНродрпИ роЗроЯроорпН",
priceTitle:"ML ро╡ро┐ро▓рпИ роХрогро┐рокрпНрокрпБ",
negoTitle:"рокрпЗроЪрпНроЪрпБро╡ро╛ро░рпНродрпНродрпИ ропрпБроХрпНродро┐",
trustTitle:"AI роироорпНрокроХродрпНродройрпНроорпИ",
trust:"роЪро░ро┐рокро╛ро░рпНроХрпНроХрокрпНрокроЯрпНроЯ родро░ро╡ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН."
},
bn:{
product:"ржкржгрзНржп",qty:"ржкрж░рж┐ржорж╛ржг (ржХрзЗржЬрж┐)",loc:"ржмрж╛ржЬрж╛рж░ рж╕рзНржерж╛ржи",
priceTitle:"ML ржорзВрж▓рзНржп ржкрзВрж░рзНржмрж╛ржнрж╛рж╕",
negoTitle:"ржжрж░ ржХрж╖рж╛ржХрж╖рж┐ ржХрзМрж╢рж▓",
trustTitle:"AI ржмрж┐рж╢рзНржмрж╛рж╕ рж╕рзНрждрж░",
trust:"ржпрж╛ржЪрж╛ржЗржХрзГржд ржбрзЗржЯрж╛рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗред"
}
};

/* ---------------- FUNCTIONS ---------------- */
function startDemo(){
  intro.classList.add("hidden");
  app.classList.remove("hidden");
}

function setLang(){
  state.lang=lang.value;
  productLabel.innerText=t[state.lang].product;
  qtyLabel.innerText=t[state.lang].qty;
  locLabel.innerText=t[state.lang].loc;
}

function validate(){
  let ok=true;
  productErr.innerText="";
  qtyErr.innerText="";
  locErr.innerText="";

  if(product.value.trim()===""){
    productErr.innerText="тЭМ Product required";
    ok=false;
  }
  if(isNaN(qty.value) || qty.value<=0){
    qtyErr.innerText="тЭМ Quantity must be a positive number";
    ok=false;
  }
  if(loc.value.trim()===""){
    locErr.innerText="тЭМ Location required";
    ok=false;
  }
  return ok;
}

/* ---------------- ML MODEL (SIMULATED BUT LOGICAL) ---------------- */
function runML(){
  if(!validate()) return;

  const base=22;
  const qFactor=Math.min(qty.value/100,0.3);
  const min=Math.round(base+(qFactor*5));
  const max=min+3;

  priceValue.innerText=`тВ╣${min} тАУ тВ╣${max} per kg`;
  priceExplain.innerText=
    "Price estimated using regression-style logic on quantity and regional demand.";

  speakText=`Start negotiation at rupees ${min+1} per kilogram for a fair deal.`;

  negoText.innerText=
    `Recommended opening offer: тВ╣${min+1} / kg`;

  trustText.innerText=t[state.lang].trust;

  priceTitle.innerText=t[state.lang].priceTitle;
  negoTitle.innerText=t[state.lang].negoTitle;
  trustTitle.innerText=t[state.lang].trustTitle;

  result.classList.remove("hidden");
}

/* ---------------- VOICE ---------------- */
function speak(){
  const u=new SpeechSynthesisUtterance(speakText);
  u.lang=
    state.lang==="hi"?"hi-IN":
    state.lang==="pa"?"pa-IN":
    state.lang==="ta"?"ta-IN":
    state.lang==="bn"?"bn-IN":"en-IN";
  speechSynthesis.speak(u);
}
</script>

</body>
</html>
